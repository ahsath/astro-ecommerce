---
import SeasonsLink from "./SeasonsLink.astro";

const res = await fetch(import.meta.env.API_BASE_URL + '/seasons')
const data = await res.json()
---

<section class="container grid gap-4 sm:gap-8">
  <a href="/Coleções" class="inline-block px-4">
    <div class="text-sm tracking-widest uppercase">Comprar por</div>
    <h2 class="text-2xl md:text-3xl tracking-wide uppercase">Temporadas</h2>
  </a>

  <div class="grid sm:grid-cols-2 sm:px-4">
    {data.map(season =>
    <div class="relative">
      <img class="aspect-video" src={season.cover} alt={season.name}>
      <div class="flex items-center justify-center absolute inset-0 z-10">
        <SeasonsLink pathname={season.pathname} displayText={season.name} />
      </div>
    </div>
    )}
  </div>
</section>